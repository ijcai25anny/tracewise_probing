You are given a problem, a buggy solution, a failed test, and its rationale. Your task is to output the fixed code and a unit test to demonstrate the correctness of your fix. Your test cases should be written using pytest, self-contained, and each test case's function name should start with `test_`. 


{{problem_bug_failtest}}


### RATIONALE


{{rationale}}




Your response start here, only output the demanding code in following sections.

### Refined code 
(your fix code  is here )

### Testcases  
(your Testcases  is here, pytest style )

